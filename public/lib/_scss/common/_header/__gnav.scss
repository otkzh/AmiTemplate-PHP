/*
---
name: gnav(グローバルナビゲーション)
category:
- common/header/gnav
tag:
- base
compile: false
---

見出し関連のサイズを調整します。
サンプルとして、共通パーツのstyleguideを掲載

```html

<nav class="header__gnav gnav">
<ul class="gnav__row">
<li class="gnav__item">
<a href="#" class="gnav__link">menu</a>
</li>
<li class="gnav__item">
<a href="#" class="gnav__link">menu</a>
</li>
<li class="gnav__item">
<a href="#" class="gnav__link">menu</a>
</li>
<li class="gnav__item gnav-deep">
<label class="gnav__link">menu</label>

<nav class="gnav-deep__nav">
<ul class="gnav-deep__row">
<li class="gnav-deep__item">
<a href="#" class="gnav-deep__link">deep-menu</a>
</li>
<li class="gnav-deep__item">
<a href="#" class="gnav-deep__link">deep-menu</a>
</li>
<li class="gnav-deep__item">
<a href="#" class="gnav-deep__link">deep-menu</a>
</li>
</ul>
</nav>

</li>
<li class="gnav__item gnav-deep">
<label class="gnav__link">menu</label>

<nav class="gnav-deep__nav">
<ul class="gnav-deep__row">
<li class="gnav-deep__item">
<a href="#" class="gnav-deep__link">deep-menu</a>
</li>
</ul>
</nav>

</li>
<li class="gnav__item">
<a href="#" class="gnav__link_contact">contact</a>
</li>
</ul>
</nav>
<label class="header__menubar menubar">
<div class="menubar__row">
<span class="menubar__item"></span>
<span class="menubar__item"></span>
<span class="menubar__item"></span>
</div>
</label>
```
*/

.gnav{
  $thisClass:".gnav";
  position: relative;
  background-color: #fff;
  @include max-screen($width-s){
    position: absolute;
    z-index: 1;
    top:$header-height;
    left: 0;
    float: none;
    width: 100%;
    transition: transform .5s;
    transform: translate3d(0,-500px,0);
    box-shadow: 0 2px 10px rgba(0,0,0,.3);
    opacity: 0;
    &.active{
      transition: transform 1s;
      transform: translate3d(0,0,0);
      animation: fade 1s;
      opacity: 1;
      @keyframes fade {
        from {opacity: 0;}
        to {opacity: 1}
      }
    }
  }
  &__row{
    display: flex;
    @include max-screen($width-s){
      display: block;
    }
  }
  &__item{
    $this:&;
    &:last-of-type > a{
      border-bottom: none;
    }
  }//item
  &__link{
    $link:&;
    box-sizing: border-box;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    height:  $header-height;
    padding: 0 $bm*1.5;
    text-decoration: none;
    @include touch-hover(){
      background-color: $color-light;
      color:$color-brand-darken;
      cursor: pointer;
    }
    @include max-screen($width-s){
      justify-content: flex-start;
      border-bottom: 1px solid $color-light;
      &::after{
        @include icon-font();
        position: absolute;
        top:50%;
        right: $bm-inner;
        margin-top: -.5em;
      }
    }
    @each $class in home,contact {
      &_#{$class}{
        @extend #{$link};
        body.#{$class} & {
          color:$color-brand;
        }
      }
    }//each
    &_contact{
      background-color: $color-point;
      color:$color-light;
    }

    //以下AmiTemplate用
    @each $class in sample,layout,styleguide {
      &_#{$class}{
        @extend #{$link};
        body._#{$class} & {
          color:$color-brand;
        }
      }
    }//each
  }//link
  .gnav-deep{
    .gnav__link{
      @include min-screen($width-s + 1px){
        border: 4px solid transparent;
        border-left: none;
        border-right: none;
      }
      &::after{
        transition: all .3s;
        @include icon-font('\f103');
        margin-left: $bm/2;
      }
      @include max-screen($width-s){
        &::after{
          @include icon-font('\f103');
        }
      }
    }
    &.active{
      .gnav__link{
        border-bottom-color: $color-brand;
        &::after{
          transition: all .3s;
          transform: rotate(-180deg);
        }
      }
    }
  }
}
